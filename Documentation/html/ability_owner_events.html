<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Game-1: Explanation of the events in AbilityOwner.cs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Game-1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('ability_owner_events.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Explanation of the events in AbilityOwner.cs</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page explains what the events in <a class="el" href="_ability_owner_8cs.html">AbilityOwner.cs</a> do and how they work, because it's not intuitive to all devs (even some experienced ones).</p>
<p>TLDR: These events are used to run functions that this script can't normally run because it doesn't have acccess to StartCoroutine() (<a class="el" href="_ability_owner_8cs.html">AbilityOwner.cs</a> does not inherit from MonoBehavior).</p>
<p>The events in question are: </p><div class="fragment"><div class="line"><span class="keyword">public</span> delegate <span class="keywordtype">void</span> ChargeUpEvent(<a class="code hl_class" href="class_ability_owner.html">AbilityOwner</a> abilityOwner);</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">event</span> ChargeUpEvent ChargeUp;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> delegate <span class="keywordtype">void</span> CooldownEvent(<a class="code hl_class" href="class_ability_owner.html">AbilityOwner</a> abilityOwner);</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">event</span> CooldownEvent CoolDown;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> delegate <span class="keywordtype">void</span> UpdateEvent(<a class="code hl_class" href="class_ability_owner.html">AbilityOwner</a> abilityOwner);</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">event</span> UpdateEvent AbilityUpdate;</div>
<div class="ttc" id="aclass_ability_owner_html"><div class="ttname"><a href="class_ability_owner.html">AbilityOwner</a></div><div class="ttdoc">Handles timed events related to abilities. Specifically, charge ups, activating the ability,...</div><div class="ttdef"><b>Definition</b> AbilityOwner.cs:15</div></div>
</div><!-- fragment --><p>First thing to note that those new to Unity may not know: Events are functions that are triggered when something happens in a script, that other functions can then subscribe to. In this example, if an ability starts its cooldown, a function in a completely different script can be notified and start running code in response. This is very useful if you want to "do why when x happens." Instead of checking every frame if something has happened, it's recommended you use this.</p>
<p>There's multiple ways to create events, but in this example, a delegate is created, defining the parameters of the event, and then an event is created using that delegate. When these events are called, the abilityOwner is attached so any function subscribed can know what abilityOwner is charging up/cooling down/updating.</p>
<p>Now that we've explained the basics of events, what are these events doing?</p>
<p>These events trigger a function subscribed to them <a class="el" href="_player_ability_controller_8cs.html">PlayerAbilityController.cs</a>, which in turn runs a function back in this script. Specifically:</p>
<p>ChargeUp triggers UseAbilityChargingUp() in <a class="el" href="_player_ability_controller_8cs.html">PlayerAbilityController.cs</a>, which in turn starts a coroutine for ChargingUp() in this script.</p>
<p>CoolDown triggers UseAbilityCoolingDown() in <a class="el" href="_player_ability_controller_8cs.html">PlayerAbilityController.cs</a>, which in turn starts a coroutine for CoolingDown() in this script.</p>
<p>AbilityUpdate triggers UseAbilityUpdate() in <a class="el" href="_player_ability_controller_8cs.html">PlayerAbilityController.cs</a>, which in turn starts a coroutine for UpdateWithinDuration() in this script.</p>
<p>In short, these events are part of a more elaborate way of just calling ChargingUp(), CoolingDown(), and UpdatingWithinDuration().</p>
<p>Why? Because these functions are IEnumerator functions. IEnumerator functions allow for the program to wait an amount of time before continuing. This is how the charge up, cool down, and update times are implemented. A yield return statement is run for some amount of seconds, before doing whatever needs to be done after that time has passed.</p>
<p>The problem? IEnumerator functions can't be called by normal functions, but have to instead use Unity's StartCoroutine() function. <a class="el" href="_ability_owner_8cs.html">AbilityOwner.cs</a> does not inherit from MonoBehavior though, meaning it does not have access to StartCoroutine(). That's where these events come in. By running these events, a script that does have access to the MonoBehavior functions (such as <a class="el" href="_player_ability_controller_8cs.html">PlayerAbilityController.cs</a>) can run StartCoroutine() for <a class="el" href="_ability_owner_8cs.html">AbilityOwner.cs</a>.</p>
<p>Pro-tip: Press F12 in Visual Studio Code to go to where a variable is defined, and press F12 again to see everywhere where it's used. If your VSCode is configured correctly, it should show you a list of every file the variable is referenced in and where. Very useful for dissecting the functionality of unfamiliar code, and is how I initially figured out this unintuitive design. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
